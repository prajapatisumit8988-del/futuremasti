<!DOCTYPE html>
<html>
<head>
    <title>Admin Panel - StudyMasti</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>

<!-- üîê PASSWORD -->
<script>
let pass = prompt("Admin Password:");
if (pass !== "1234") {
    document.body.innerHTML =
    "<h2 style='text-align:center;color:red;margin-top:50px;'>Access Denied ‚ùå</h2>";
}
</script>

<div class="box">
    <h1>‚öô Admin Panel</h1>
    <input id="title" placeholder="Video Title">
    <input id="link" placeholder="YouTube Video ID">
    <button onclick="addVideo()">Add Video</button>
    <p id="msg"></p>
</div>

<!-- üî• FIREBASE ADMIN SCRIPT -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getDatabase, ref, push } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyC-tawInUtP03jA7qiiodaR7b0M2wE0f4Y",
  authDomain: "futuremasti.firebaseapp.com",
  databaseURL: "https://futuremasti-default-rtdb.firebaseio.com",
  projectId: "futuremasti",
  storageBucket: "futuremasti.firebasestorage.app",
  messagingSenderId: "768228855414",
  appId: "1:768228855414:web:ef84c4ede75afe20b1d957"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

window.addVideo = function () {
    const title = document.getElementById("title").value;
    const link = document.getElementById("link").value;

    if (!title || !link) {
        alert("All fields required");
        return;
    }

    push(ref(db, "videos"), { title, link });
    document.getElementById("msg").innerText = "Video Added Successfully ‚úî";
    document.getElementById("title").value = "";
    document.getElementById("link").value = "";
};
</script>

</body>
</html>
